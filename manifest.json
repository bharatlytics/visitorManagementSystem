{
  "name": "Visitor Management System",
  "appId": "vms_app_v1",
  "version": "1.4.0",
  "description": "Complete Visitor Management System with facial recognition, digital badges, and host notifications. Provides employee and visitor data with biometric embeddings to other platform apps via federated queries.",
  "icon": "fas fa-user-check",
  "category": "operations",
  "requiredActors": [
    {
      "actorType": "visitor",
      "access": "write",
      "justification": "To manage visitor records, check-ins, and history with biometric data",
      "fields": [
        "name",
        "phone",
        "email",
        "photo",
        "company"
      ]
    },
    {
      "actorType": "employee",
      "access": "write",
      "justification": "To manage employee records with biometric data for host verification and access control",
      "fields": [
        "name",
        "email",
        "department",
        "phone",
        "code",
        "photo",
        "embedding"
      ]
    }
  ],
  "requiredEntities": [
    {
      "entityType": "location",
      "access": "read",
      "justification": "To assign visits to specific buildings or zones"
    }
  ],
  "dataExchange": {
    "produces": {
      "actors": [
        {
          "type": "visitor",
          "defaultResidency": "app",
          "supportedResidency": [
            "app"
          ],
          "federated": true,
          "queryEndpoint": "/api/query/visitors",
          "fields": [
            "name",
            "phone",
            "email",
            "photo",
            "company"
          ],
          "embeddingModels": {
            "available": [
              "Facenet512"
            ],
            "shareByDefault": false,
            "note": "VMS generates its own embeddings; other apps can request raw images via includeImages=true"
          },
          "imageExchange": {
            "supported": true,
            "format": "base64",
            "queryParam": "includeImages=true",
            "note": "Other apps receive raw images and can train their own models"
          }
        },
        {
          "type": "employee",
          "defaultResidency": "platform",
          "supportedResidency": [
            "platform",
            "app"
          ],
          "syncEndpoint": "/api/employees/register",
          "queryEndpoint": "/api/query/employees",
          "fields": [
            "name",
            "phone",
            "email",
            "photo",
            "embedding",
            "department",
            "code"
          ],
          "note": "Employees sync to platform; platform generates embeddings"
        }
      ],
      "events": [
        "visit.scheduled",
        "visit.checked_in",
        "visit.checked_out",
        "visitor.registered",
        "visitor.updated",
        "visitor.blacklisted",
        "employee.registered",
        "employee.updated",
        "host.approval_requested",
        "host.approved",
        "host.rejected"
      ],
      "metrics": [
        {
          "name": "active_visitors",
          "unit": "count",
          "aggregation": "hourly",
          "dimensions": [
            "location",
            "visitor_type"
          ]
        },
        {
          "name": "visits_today",
          "unit": "count",
          "aggregation": "daily",
          "dimensions": [
            "location"
          ]
        },
        {
          "name": "avg_visit_duration",
          "unit": "minutes",
          "aggregation": "daily",
          "dimensions": [
            "visitor_type"
          ]
        },
        {
          "name": "peak_occupancy",
          "unit": "count",
          "aggregation": "daily",
          "dimensions": [
            "location"
          ]
        },
        {
          "name": "visitor_conversion_rate",
          "unit": "percentage",
          "aggregation": "daily",
          "description": "Percentage of scheduled visits that complete check-in",
          "dimensions": [
            "location"
          ]
        },
        {
          "name": "avg_wait_time",
          "unit": "minutes",
          "aggregation": "hourly",
          "description": "Average time from arrival to check-in completion",
          "dimensions": [
            "location"
          ]
        },
        {
          "name": "repeat_visitor_ratio",
          "unit": "percentage",
          "aggregation": "weekly",
          "description": "Percentage of returning visitors vs new visitors",
          "dimensions": []
        },
        {
          "name": "peak_hours_distribution",
          "unit": "counts_by_hour",
          "aggregation": "daily",
          "description": "Visit count distribution across hours of the day",
          "dimensions": [
            "location"
          ]
        },
        {
          "name": "host_response_time",
          "unit": "minutes",
          "aggregation": "daily",
          "description": "Average time for hosts to approve visitor requests",
          "dimensions": [
            "department"
          ]
        },
        {
          "name": "no_show_rate",
          "unit": "percentage",
          "aggregation": "daily",
          "description": "Percentage of scheduled visits that did not complete",
          "dimensions": [
            "location"
          ]
        },
        {
          "name": "visitor_satisfaction_nps",
          "unit": "score",
          "aggregation": "weekly",
          "description": "Net Promoter Score from visitor feedback",
          "dimensions": [
            "location"
          ]
        }
      ],
      "schemas": [
        {
          "id": "visit_record",
          "description": "Full visit details including host and check-in times"
        }
      ]
    },
    "consumes": {
      "fromPlatform": [
        {
          "type": "employee_presence",
          "use": "Check if host is available before scheduling visits"
        },
        {
          "type": "meeting_rooms",
          "use": "Suggest available meeting rooms for visits"
        },
        {
          "type": "parking_status",
          "use": "Provide visitor arrival guidance on parking availability"
        },
        {
          "type": "company_events",
          "use": "Block high-traffic event days for regular visits"
        }
      ]
    }
  },
  "webhooks": {
    "install": "/api/webhooks/install",
    "uninstall": "/api/webhooks/uninstall",
    "dataUpdate": "/api/webhooks/data-update",
    "residencyChange": "/api/webhooks/residency-change"
  },
  "configuration": {
    "hybridMode": true,
    "settings": [
      {
        "key": "require_approval",
        "label": "Require Host Approval",
        "type": "boolean",
        "default": false
      }
    ]
  }
}